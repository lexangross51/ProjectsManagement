@model Projects.Presentation.Models.Tasks.TasksViewModel

<link rel="stylesheet" type="text/css" href="~/css/styles.css"/>

@if (Model.TaskList.Tasks.Any())
{
    <p><strong>Tasks:</strong></p>
    
    <table>
        <tr>
            <th>
                <a href="#" onclick="sort('TaskName')">Task name</a>
            </th>
            <th>
                <a href="#" onclick="sort('Priority')">Priority</a>
            </th>
            <th>
                <a href="#" onclick="sort('Status')">Status</a>
            </th>
            <th>Delete</th>
        </tr>
    
        @foreach (var p in Model.TaskList.Tasks)
        {
            <tr>
                <td>
                    <a asp-action="TaskDetails" asp-controller="Task" asp-route-id="@p.Id">@p.TaskName</a>
                </td>
                <td>@p.Priority</td>
                <td>@p.Status</td>
                <td style="text-align: center">
                    @using (Html.BeginForm("DeleteTask", "Task", new { id = p.Id }))
                    {
                        <button type="submit" class="base-button remove-button" onclick="return confirm('Are you sure you want to delete this task?')">
                            X
                        </button>
                    }
                </td>
            </tr>
        }
    </table>
}